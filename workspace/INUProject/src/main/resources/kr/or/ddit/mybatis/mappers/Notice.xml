<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ddit.help.dao.NoticeDAO">

<!--  [[개정이력(Modification Information)]]       -->
<!--  수정일           수정자        수정내용               -->
<!--  ==========   ======    ==============        -->
<!--  2023. 2. 7.}  박형준     최초작성               -->
<!--  Copyright (c) 2023 by DDIT All right reserved -->

	<!-- 공지사항 목록 -->
<!-- 	<select id="selectNoticeList" parameterType="PagingVO" resultType="NoticeVO"></select>  -->

	<!-- 조회수 증가 -->
	<update id="incrementHit" parameterType="int">
		UPDATE NOTICE
		SET NOTICE_HIT = NOTICE_HIT + 1
		WHERE NOTICE_SN = #{notiecSn}
	</update>

	<!-- 공지사항 생성 -->
	<insert id="insertNotice" parameterType="NoticeVO">
		<selectKey>
			SELECT 'N' || LPAD(NOTICE_SEQ.NEXTVAL,6,0) FROM DUAL
		</selectKey>
		INSERT INTO notice (
		    notice_sn,
		    mem_id,
		    notice_sort,
		    notice_title,
		    notice_content,
		    notice_date,
		    notice_hit,
		    att_sn
		) VALUES (
		    #{attSn,jdbcType=VARCHAR}
			, #{noticeSn,jdbcType=VARCHAR}
			, #{memId,jdbcType=VARCHAR}
			, #{noticeSort,jdbcType=VARCHAR}
			, #{noticeTitle,jdbcType=VARCHAR}
			, #{noticeContent,jdbcType=CLOB}
			, SYSDATE
			, #{noticeHit,jdbcType=NUMERIC}
		)
	</insert>

</mapper>