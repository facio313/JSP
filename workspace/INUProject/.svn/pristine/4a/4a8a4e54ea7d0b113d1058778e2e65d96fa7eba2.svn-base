<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>    
<%@ taglib uri="http://www.springframework.org/security/tags" prefix="security" %>  
  
<div>
	<security:authorize url="/mypage.do">
		<security:authentication property="principal" var="memberVOWrapper"/>
		<security:authentication property="principal.realMember" var="authMember"/>
		<c:if test="${not empty authMember.memImg }">
			<img class="profile" src="data:image/*;base64,${authMember.base64MemImg }" />
		</c:if>
		<c:if test="${empty authMember.memImg }">
			<img class="profile" src="<c:url value='/resources/images/noImage.png'/>" />
		</c:if>
		<a href="<c:url value='/mypage.do'/>">${authMember.memName }[${authMember.memRole }]님</a>
		<a href="#" class="logoutBtn">로그아웃</a>
	</security:authorize>
	<security:authorize url="/member/memberInsert.do">
		<a href="<c:url value='/login'/>">로그인</a>
		<a href="<c:url value='/join/seeker'/>">회원가입</a>
	</security:authorize>
</div>


<!-- gridstack -->
<link href="<%=request.getContextPath()%>/resources/index/node_modules/gridstack/dist/gridstack.min.css" rel="stylesheet"/>
<script src="${pageContext.request.contextPath}/resources/index/node_modules/gridstack/dist/gridstack-all.js"></script>
<style type="text/css">
	.grid-stack { background: transparent;}
	.grid-stack-item-content {
		background-color: white;
		border-radius: 16px;
		transition:0.5s;
		box-shadow: 17px 20px 40px rgb(0 0 0 / 21%);
		width:200px
	}
	.grid-stack-item-content:hover {
		box-shadow: 17px 20px 50px rgb(0 0 0 / 50%);
	}
	
	.grid-stack-item[gs-w="1"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="2"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="3"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="4"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="5"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="6"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="7"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="8"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="9"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="10"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="11"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	.grid-stack-item[gs-w="12"]:hover {
		transition:0.5s;
		transform:scale(1.02);
	}
	
</style>
<div class="grid-stack">
    <div class="grid-stack-item"  gs-x="0" gs-y="0" gs-w="3" gs-h="3">
        <div class="grid-stack-item-content" style="background-image: url(${pageContext.request.contextPath}/resources/images/Dobby.png); background-size: cover; background-position: center;">
			<div id="profile" style="padding: 3%; height: 70%;"></div>
			<div style="height: 30%; background-color: rgb(0, 0, 0, 0.4); color: white;">
				<a><h1 style="color: white;">도비</h1></a>
				<span>구직자</span><br>
				<span>dobbyisfree@google.com</span>
			</div>
		</div>
    </div>
    <div class="grid-stack-item"  gs-x="3" gs-y="0" gs-w="6" gs-h="5">
        <div class="grid-stack-item-content">
			<div id="calendar" style="padding: 3%; background-color: rgb(255,255,255,0.5)">
			</div>
		</div>
    </div>
    <div class="grid-stack-item"  gs-x="9" gs-y="0" gs-w="3" gs-h="4">
        <div class="grid-stack-item-content">
			<div id="schedule" style="padding: 3%;"></div>
		</div>
    </div>
    <div class="grid-stack-item"  gs-x="0" gs-y="3" gs-w="3" gs-h="2">
        <div class="grid-stack-item-content">
			알림
		</div>
    </div>
    <div class="grid-stack-item"  gs-x="0" gs-y="5" gs-w="6" gs-h="3">
        <div class="grid-stack-item-content">
			선형진행도
		</div>
    </div>
    <div class="grid-stack-item"  gs-x="6" gs-y="5" gs-w="3" gs-h="3">
        <div class="grid-stack-item-content">
			관심 목록
		</div>
    </div>
    <div class="grid-stack-item"  gs-x="9" gs-y="4" gs-w="3" gs-h="4">
        <div class="grid-stack-item-content">
			클래스 현황
		</div>
    </div>
</div>

<script>

  var grid = GridStack.init();
  grid.margin(25);

</script>

<!-- fullcalendar -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.1/index.global.min.js'></script>
<script>

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      headerToolbar: {
    	  left: 'prevYear,prev today',
    	  center: 'title',
    	  right: 'dayGridMonth,dayGridWeek, next,nextYear'
      },
      events: [
    	  {
    		  title: '애플 - 백엔드 개발자 - 입사지원서',
    		  start:'2023-02-03',
    		  end: '2023-02-05'
    	  },
    	  {
    		  title: '애플 - 백엔드 개발자 - 자기소개서',
    		  start:'2023-02-08',
    		  end: '2023-02-10'
    	  }
      ]
    });
    calendar.render();
  $('#calendar').parent().addClass('bg-transparent');
  $('#calendar').children('.fc-view-harness').css('background-color', 'white');
  });
 </script>